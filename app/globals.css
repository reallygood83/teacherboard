@import "tailwindcss";
@import "tw-animate-css";

/* Dark mode variant removed to prevent styling conflicts */

:root {
  /* Light theme with clean white/green educational colors */
  --background: #ffffff;
  --foreground: #1f2937;
  --card: #ffffff;
  --card-foreground: #1f2937;
  --popover: #ffffff;
  --popover-foreground: #1f2937;
  --primary: #059669;
  --primary-foreground: #ffffff;
  --secondary: #f3f4f6;
  --secondary-foreground: #374151;
  --muted: #f9fafb;
  --muted-foreground: #6b7280;
  --accent: #ecfdf5;
  --accent-foreground: #065f46;
  --destructive: #dc2626;
  --destructive-foreground: #ffffff;
  --border: #e5e7eb;
  --input: #f9fafb;
  --ring: #059669;
  --chart-1: #10b981;
  --chart-2: #3b82f6;
  --chart-3: #8b5cf6;
  --chart-4: #f59e0b;
  --chart-5: #ef4444;
  --radius: 0.625rem;
  --sidebar: #ffffff;
  --sidebar-foreground: #374151;
  --sidebar-primary: #059669;
  --sidebar-primary-foreground: #ffffff;
  --sidebar-accent: #ecfdf5;
  --sidebar-accent-foreground: #065f46;
  --sidebar-border: #e5e7eb;
  --sidebar-ring: #059669;
}

/* Dark mode removed to prevent black background issues - keeping light theme only */

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);

  /* Added custom font variables for Korean-friendly typography */
  --font-sans: var(--font-open-sans);
  --font-serif: var(--font-montserrat);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-white text-foreground;
    font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  }
  
  /* Ensure all cards and containers have clean white backgrounds */
  .bg-card, [role="tabpanel"], .card {
    background-color: #ffffff !important;
    border-color: #e5e7eb !important;
  }
  
  /* Fix any remaining dark borders or backgrounds */
  .bg-background, .bg-muted, .bg-secondary {
    background-color: #ffffff !important;
  }
  
  .border-border, .border-input {
    border-color: #e5e7eb !important;
  }
  
  /* Ensure text is always properly colored */
  .text-foreground {
    color: #1f2937 !important;
  }
  
  .text-muted-foreground {
    color: #6b7280 !important;
  }
}

/* Added custom styles for educational theme */
.educational-gradient {
  background: linear-gradient(135deg, #15803d 0%, #84cc16 100%);
}

.card-hover {
  transition: all 0.3s ease;
}

.card-hover:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 25px rgba(21, 128, 61, 0.15);
}

/* 애니메이션 효과를 위한 커스텀 CSS 클래스 추가 */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes wiggle {
  0%,
  7% {
    transform: rotateZ(0);
  }
  15% {
    transform: rotateZ(-15deg);
  }
  20% {
    transform: rotateZ(10deg);
  }
  25% {
    transform: rotateZ(-10deg);
  }
  30% {
    transform: rotateZ(6deg);
  }
  35% {
    transform: rotateZ(-4deg);
  }
  40%,
  100% {
    transform: rotateZ(0);
  }
}

.animate-fade-in {
  animation: fadeIn 0.5s ease-out forwards;
}

.animate-slide-in-up {
  animation: slideInUp 0.6s ease-out forwards;
}

.animate-wiggle {
  animation: wiggle 2s ease-in-out infinite;
}

/* 학생 뽑기 룰렛 효과 */
.roulette-number {
  animation: bounce 0.6s ease-in-out infinite alternate;
  font-size: 4rem;
  font-weight: bold;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
}

/* 모둠 편성 셔플 효과 */
.shuffle-card {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  animation: float 2s ease-in-out infinite;
}

@keyframes float {
  0%,
  100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-5px);
  }
}

/* 결과 표시 시 순차적 등장 효과 */
.stagger-animation {
  opacity: 0;
  animation: slideInUp 0.5s ease-out forwards;
}

.stagger-animation:nth-child(1) {
  animation-delay: 0.1s;
}
.stagger-animation:nth-child(2) {
  animation-delay: 0.2s;
}
.stagger-animation:nth-child(3) {
  animation-delay: 0.3s;
}
.stagger-animation:nth-child(4) {
  animation-delay: 0.4s;
}
.stagger-animation:nth-child(5) {
  animation-delay: 0.5s;
}
.stagger-animation:nth-child(6) {
  animation-delay: 0.6s;
}

/* Mobile-specific optimizations */
@media (max-width: 768px) {
  .card-hover:hover {
    transform: none;
    box-shadow: 0 4px 12px rgba(21, 128, 61, 0.1);
  }
  
  /* Touch-friendly buttons */
  button {
    min-height: 44px;
    min-width: 44px;
  }
  
  /* Improve text readability on mobile */
  body {
    -webkit-text-size-adjust: 100%;
    -moz-text-size-adjust: 100%;
    text-size-adjust: 100%;
  }
  
  /* Prevent horizontal scroll on mobile */
  .overflow-x-auto {
    -webkit-overflow-scrolling: touch;
  }
  
  /* Mobile-friendly animations */
  @media (prefers-reduced-motion: reduce) {
    .card-hover {
      transition: none;
    }
    
    .animate-fade-in,
    .animate-slide-in-up,
    .animate-wiggle {
      animation: none;
    }
  }
}

/* Enhanced mobile navigation styles */
.mobile-nav-backdrop {
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

/* Touch-optimized form inputs */
@media (max-width: 768px) {
  input, textarea, select {
    font-size: 16px; /* Prevents zoom on iOS */
    min-height: 44px;
  }
  
  /* Better spacing for mobile forms */
  .space-y-4 > :not(:first-child) {
    margin-top: 1.5rem;
  }
}

/* Mobile-friendly modal positioning */
@media (max-width: 640px) {
  .fixed.inset-0.flex.items-center.justify-center {
    align-items: flex-end;
    padding: 0;
  }
  
  .fixed.inset-0.flex.items-center.justify-center > * {
    border-radius: 20px 20px 0 0;
    margin-bottom: 0;
    width: 100%;
  }
}

/* Improved mobile scrolling */
.mobile-scroll {
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
}

/* Better mobile typography */
@media (max-width: 768px) {
  h1 {
    font-size: 1.875rem; /* text-3xl instead of text-4xl */
    line-height: 2.25rem;
  }
  
  h2 {
    font-size: 1.5rem; /* text-2xl instead of text-3xl */
    line-height: 2rem;
  }
  
  h3 {
    font-size: 1.25rem; /* text-xl instead of text-2xl */
    line-height: 1.75rem;
  }
  
  /* Improved mobile padding */
  .p-6 {
    padding: 1rem;
  }
  
  .py-8 {
    padding-top: 1.5rem;
    padding-bottom: 1.5rem;
  }
}

/* Touch gesture container optimization */
.mobile-swipe-container {
  width: 100%;
  position: relative;
  overflow: hidden;
}

/* Enhanced mobile interaction feedback */
@media (max-width: 768px) {
  /* Better touch feedback for buttons */
  button:active {
    transform: scale(0.98);
    transition: transform 0.1s ease;
  }
  
  /* Improved focus states for touch navigation */
  button:focus-visible,
  [role="tab"]:focus-visible {
    outline: 2px solid #3b82f6;
    outline-offset: 2px;
    border-radius: 4px;
  }
  
  /* Prevent text selection on touch interactions */
  .mobile-nav-item,
  .mobile-button-group button {
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
    -webkit-touch-callout: none;
  }
  
  /* Better card spacing on mobile */
  .card-hover {
    margin-bottom: 0.75rem;
  }
  
  /* Optimized mobile grid gaps */
  .grid.gap-4 {
    gap: 0.75rem;
  }
  
  /* Enhanced mobile modal positioning */
  .fixed.inset-0 {
    padding: 1rem;
  }
  
  /* Better mobile scrollable areas */
  .overflow-y-auto {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
  }
}

/* Desktop optimization - restore full functionality */
@media (min-width: 768px) {
  .mobile-swipe-container {
    /* Disable touch gestures on desktop */
    pointer-events: auto;
  }
  
  /* Ensure desktop tabs are fully functional */
  [data-state="active"] {
    background: var(--primary);
    color: white;
  }
  
  /* Better desktop spacing */
  .max-w-7xl {
    padding-left: 2rem;
    padding-right: 2rem;
  }
  
  /* Desktop navigation improvements */
  [role="tablist"] {
    background: white;
    border: 1px solid #e5e7eb;
    border-radius: 0.5rem;
    padding: 0.25rem;
  }
  
  /* Desktop tab buttons */
  [role="tab"] {
    border-radius: 0.375rem;
    transition: all 0.2s ease;
    padding: 0.75rem 1rem;
    font-weight: 500;
    font-size: 0.875rem;
    position: relative;
    cursor: pointer;
  }
  
  [role="tab"]:hover:not([data-state="active"]) {
    background: #f3f4f6;
    transform: translateY(-1px);
  }
  
  [role="tab"][data-state="active"] {
    background: linear-gradient(135deg, #059669, #065f46);
    color: white;
    box-shadow: 0 4px 12px rgba(5, 150, 105, 0.3);
    transform: translateY(-1px);
  }
  
  /* Better tab content transitions */
  [role="tabpanel"] {
    animation: fadeIn 0.3s ease-in-out;
  }
  
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  /* Better focus states for accessibility */
  [role="tab"]:focus-visible {
    outline: 2px solid #059669;
    outline-offset: 2px;
  }
}

/* Responsive layout improvements */
@media (min-width: 1024px) {
  /* Better desktop grid layouts */
  .grid-cols-2 {
    gap: 2rem;
  }
  
  .grid-cols-3 {
    gap: 1.5rem;
  }
  
  /* Improved card layouts for desktop */
  .card-hover {
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }
  
  .card-hover:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
  }
}
